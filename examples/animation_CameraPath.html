<!DOCTYPE html>
<html lang="en">
<head>
    <title>xeoEngine Example</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

    <script src="../build/xeoengine.js"></script>

    <script src="js/curves/curve.js"></script>
    <script src="js/curves/splineCurve.js"></script>
    <script src="js/animation/cameraPath.js"></script>
    <script src="js/animation/cameraPathPlayer.js"></script>
    <script src="js/geometry/vectorTextGeometry.js"></script>
    <script src="js/helpers/axisHelper.js"></script>

    <link href="css/styles.css" rel="stylesheet"/>

<body>


<div id="infoLight">
    <a href="http://xeoengine.org">xeoEngine</a>
    <br><br>

    <p>animating a <a href="../docs/classes/Camera.html" target="_docs">Camera</a> with a <a
            href="js/animation/cameraPath.js" target="_docs">XEO.CameraPath</a> and a <a
            href="js/animation/cameraPathPlayer.js" target="_docs">XEO.CameraPathPlayer</a>
</div>

<script>

    // Work in progress - components for animating cameras along paths.

    var gearbox = new XEO.Model({
        src: "models/gltf/gearbox/gearbox_assy.gltf"
    });

    var scene = gearbox.scene;

    var cameraPath = new XEO.CameraPath({
        frames: [
            {
                t: 0,
                eye: [
                    184.21,
                    10.54,
                    -7.03
                ],
                look: [
                    159.2,
                    17.02,
                    3.21
                ],
                up: [
                    -0.15,
                    0.97,
                    0.13
                ]
            },
            {
                t: 1,
                eye: [
                    184.9114990234375,
                    10.100030899047852,
                    -11.261137962341309
                ],
                look: [
                    171.03273010253906,
                    13.695968627929688,
                    -5.578668117523193
                ],
                up: [
                    -0.15000000596046448,
                    0.9700000286102295,
                    0.12999999523162842
                ]
            },
            {
                t: 2,
                eye: [
                    181.37887263988702,
                    12.350730786701517,
                    -16.93598979678672
                ],
                look: [
                    171.03273010253906,
                    13.695968627929688,
                    -5.578668117523193
                ],
                up: [
                    -0.17578382618907568,
                    0.9317692862054086,
                    0.2849662397999174
                ]
            },
            {
                t: 2,
                eye: [
                    174.01263219874127,
                    13.55741921980556,
                    -20.70948190901325
                ],
                look: [
                    171.03273010253906,
                    13.695968627929688,
                    -5.578668117523193
                ],
                up: [
                    -0.016918381342729424,
                    0.9031709448376826,
                    0.4053336360618352
                ]
            },
            {
                t: 4,
                eye: [
                    166.4886079672944,
                    14.362811751119203,
                    -20.3009729981598
                ],
                look: [
                    171.03273010253906,
                    13.695968627929688,
                    -5.578668117523193
                ],
                up: [
                    0.19103208277355235,
                    0.8809995739866929,
                    0.40944521712926046
                ]
            },
            {
                t: 5,
                eye: [
                    160.32931619164626,
                    14.697978737377806,
                    -16.63635018512084
                ],
                look: [
                    171.03273010253906,
                    13.695968627929688,
                    -5.578668117523193
                ],
                up: [
                    0.36899149331359493,
                    0.8710451053259572,
                    0.2922739804067647
                ]
            },
            {
                t: 6,
                eye: [
                    156.6722412109375,
                    17.97894287109375,
                    -4.777265548706055
                ],
                look: [
                    162.5371856689453,
                    17.429889678955078,
                    1.28179931640625
                ],
                up: [
                    0.368991494178772,
                    0.8710451126098633,
                    0.29227396845817566
                ]
            },
            {
                t: 7,
                eye: [
                    151.14329528808594,
                    16.683563232421875,
                    -10.04964828491211
                ],
                look: [
                    158.94259643554688,
                    15.953422546386719,
                    -1.9921996593475342
                ],
                up: [
                    0.368991494178772,
                    0.8710451126098633,
                    0.29227396845817566
                ]
            },
            {
                t: 8,
                eye: [
                    146.2631378173828,
                    17.568161010742188,
                    -4.777173042297363
                ],
                look: [
                    152.13150024414062,
                    17.055818557739258,
                    1.28179931640625
                ],
                up: [
                    0.3664259910583496,
                    0.8730693459510803,
                    0.2894483506679535
                ]
            },
            {
                t: 9,
                eye: [
                    137.26290893554688,
                    18.368480682373047,
                    -9.656974792480469
                ],
                look: [
                    149.76170349121094,
                    17.27726173400879,
                    3.2477991580963135
                ],
                up: [
                    0.3664259910583496,
                    0.8730693459510803,
                    0.2894483506679535
                ]
            },
            {
                t: 10,
                eye: [
                    139.04719952027818,
                    18.290266545418458,
                    -11.17845415569739
                ],
                look: [
                    149.76170349121094,
                    17.27726173400879,
                    3.2477991580963135
                ],
                up: [
                    0.32332949754646134,
                    0.875076928271368,
                    0.33165744436653377
                ]
            },
            {
                t: 11,
                eye: [
                    140.66802472191418,
                    18.13378201553735,
                    -12.260735441635937
                ],
                look: [
                    149.76170349121094,
                    17.27726173400879,
                    3.2477991580963135
                ],
                up: [
                    0.28163315140839185,
                    0.8790420759479737,
                    0.35814221441550026
                ]
            },
            {
                t: 12,
                eye: [
                    147.1831644219063,
                    17.6639850292011,
                    -14.560755998359149
                ],
                look: [
                    149.76170349121094,
                    17.27726173400879,
                    3.2477991580963135
                ],
                up: [
                    0.12247186714455562,
                    0.8905346836799104,
                    0.4150259070318973
                ]
            },
            {
                t: 13,
                eye: [
                    158.0526804688342,
                    16.332523597022156,
                    -12.699303266261287
                ],
                look: [
                    149.76170349121094,
                    17.27726173400879,
                    3.2477991580963135
                ],
                up: [
                    -0.11181515677684717,
                    0.9197582064250411,
                    0.34905582313725775
                ]
            },
            {
                t: 14,
                eye: [
                    150.1171875,
                    13.263120651245117,
                    -6.696361064910889
                ],
                look: [
                    147.95077514648438,
                    13.509978294372559,
                    -2.529419422149658
                ],
                up: [
                    -0.11181515455245972,
                    0.9197582006454468,
                    0.34905582666397095
                ]
            },
            {
                t: 15,
                eye: [
                    149.2709503173828,
                    13.004359245300293,
                    -3.3455162048339844
                ],
                look: [
                    148.72271728515625,
                    13.056397438049316,
                    -2.2925710678100586
                ],
                up: [
                    -0.11573874950408936,
                    0.9165798425674438,
                    0.356067031621933
                ]
            },
            {
                t: 16,
                eye: [
                    152.6230926513672,
                    11.657329559326172,
                    -4.873440265655518
                ],
                look: [
                    148.47994995117188,
                    12.089982032775879,
                    3.089801788330078
                ],
                up: [
                    -0.11377803236246109,
                    0.9181777834892273,
                    0.35256481170654297
                ]
            },
            {
                t: 17,
                eye: [
                    153.3551788330078,
                    12.2429780960083,
                    -1.8487704992294312
                ],
                look: [
                    148.69540405273438,
                    12.72553825378418,
                    7.0128021240234375
                ],
                up: [
                    -0.11531529575586319,
                    0.9181777834892273,
                    0.35206499695777893
                ]
            },
            {
                t: 18,
                eye: [
                    156.49102584034665,
                    12.112274003762348,
                    0.7417618855192165
                ],
                look: [
                    148.69540405273438,
                    12.72553825378418,
                    7.0128021240234375
                ],
                up: [
                    -0.23649315180269717,
                    0.9228665638122162,
                    0.26960342212295063
                ]
            },
            {
                t: 19,
                eye: [
                    158.5282759895434,
                    11.981675049415927,
                    5.214188609993149
                ],
                look: [
                    148.69540405273438,
                    12.72553825378418,
                    7.0128021240234375
                ],
                up: [
                    -0.32447194105062477,
                    0.927397209052293,
                    0.12227023853318268
                ]
            },
            {
                t: 20,
                eye: [
                    158.6035047924787,
                    11.504072723747697,
                    7.913469042967769
                ],
                look: [
                    148.69540405273438,
                    12.72553825378418,
                    7.0128021240234375
                ],
                up: [
                    -0.3008108895312302,
                    0.9426444410554341,
                    0.03509624532358778
                ]
            },
            {
                t: 21,
                eye: [
                    157.60130010994385,
                    11.764304401413447,
                    11.511093462236154
                ],
                look: [
                    148.69540405273438,
                    12.72553825378418,
                    7.0128021240234375
                ],
                up: [
                    -0.31440304670852437,
                    0.93459473990682,
                    -0.0893351239583433
                ]
            },
            {
                t: 22,
                eye: [
                    152.67379466338173,
                    18.351370647972665,
                    14.292634921127572
                ],
                look: [
                    148.69540405273438,
                    12.72553825378418,
                    7.0128021240234375
                ],
                up: [
                    -0.46964509786903097,
                    0.5140984751100773,
                    -0.7038702652953052
                ]
            },
            {
                t: 23,
                eye: [
                    148.7948124742143,
                    21.67376504957971,
                    11.528649781673312
                ],
                look: [
                    148.69540405273438,
                    12.72553825378418,
                    7.0128021240234375
                ],
                up: [
                    -0.15849830108822713,
                    0.03642173141208678,
                    -0.9766517301608741
                ]
            },
            {
                t: 24,
                eye: [
                    147.11389304023604,
                    22.406449242171135,
                    9.07490524001946
                ],
                look: [
                    148.69540405273438,
                    12.72553825378418,
                    7.0128021240234375
                ],
                up: [
                    0.38678239537538944,
                    -0.16960486872242547,
                    -0.8955053659666384
                ]
            },
            {
                t: 25,
                eye: [
                    144.80311114264615,
                    21.929623824458176,
                    6.2328741857916325
                ],
                look: [
                    148.69540405273438,
                    12.72553825378418,
                    7.0128021240234375
                ],
                up: [
                    0.9890314321920821,
                    -0.023907644615860184,
                    0.03923345883319786
                ]
            },
            {
                t: 26,
                eye: [
                    144.11238045689018,
                    20.184361800854276,
                    2.1306715677737955
                ],
                look: [
                    148.69540405273438,
                    12.72553825378418,
                    7.0128021240234375
                ],
                up: [
                    0.7111749318598642,
                    0.2947780627753938,
                    0.6225986595033924
                ]
            },
            {
                t: 27,
                eye: [
                    145.87665209217857,
                    17.379289451582803,
                    -1.4056612193013294
                ],
                look: [
                    148.69540405273438,
                    12.72553825378418,
                    7.0128021240234375
                ],
                up: [
                    0.3136260061283235,
                    0.6062734490799496,
                    0.7171914856955974
                ]
            },
            {
                t: 28,
                eye: [
                    144.37423706054688,
                    19.173784255981445,
                    -7.330960750579834
                ],
                look: [
                    146.13079833984375,
                    16.273700714111328,
                    -2.0848188400268555
                ],
                up: [
                    0.3136259913444519,
                    0.6062734723091125,
                    0.7171914577484131
                ]
            },
            {
                t: 29,
                eye: [
                    142.54727172851562,
                    21.91842269897461,
                    -17.268444061279297
                ],
                look: [
                    146.89889526367188,
                    14.817765235900879,
                    -4.288242816925049
                ],
                up: [
                    0.3129098117351532,
                    0.6096703410148621,
                    0.7146201133728027
                ]
            }
        ]
    });

    var cameraPathPlayer = new XEO.CameraPathPlayer({
        cameraPath: cameraPath
    });

    gearbox.on("loaded", function () {
        cameraPathPlayer.play();
    });

    new XEO.AxisHelper({
        lookat: scene.camera.view,
        visible: true,
        size: [200, 200]
    });


    /*

     var input = scene.input;
     var frame = 0;

     input.on("keydown",
     function (keyCode) {
     switch (keyCode) {

     case input.KEY_P:
     cameraPathPlayer.play();
     break;

     case input.KEY_N:
     if (frame === 0) {
     break;
     }
     frame = frame - 1;
     cameraPathPlayer.playToFrame(frame);
     break;

     case input.KEY_M:
     if (frame > cameraPathPlayer.cameraPath.frames.length) {
     break;
     }
     frame = frame + 1;
     cameraPathPlayer.playToFrame(frame);
     break;

     case input.KEY_ESCAPE:
     cameraPathPlayer.stop();
     break;
     }
     });

     */

</script>
</body>
</html>